<?xml version="1.0" encoding="UTF-8"?>
<updateWorkflow>
  <title>üîÅ Update Application on Raspberry Pi (New Release Workflow)</title>

  <step number="1" title="Navigate to the App Directory">
    <command>cd /BucStop</command>
    <note>This is the folder where you originally cloned the repo.</note>
  </step>

  <step number="2" title="Pull the Latest Changes from GitHub">
    <command>git pull origin main</command>
    <note>Replace <branch>main</branch> with your default branch name if it's different (like master or dev).
      We're deploying from <branch>main</branch> currently but can implement a staging branch later.
    </note>
  </step>

  <step number="3" title="Rebuild the Docker Image">
    <command>docker compose up</command>
    <note>This will build the image with the latest code.</note>
  </step>

  <step number="4" title="Restart the Container">
    <option number="1" title="Stop and Remove the Existing Container(s)">
      <commands>
        <command>docker stop my-container-name</command>
        <command>docker rm my-container-name</command>
      </commands>
      <note>Container names are: bucstop, api-gateway, game-tetris, game-snake, game-pong</note>
    </option>

    <option number="2" title="Run a New Container with the Updated Image">
      <command>docker run -d --name my-container-name -p 80:80 my-app-name</command>
      <note>Use --restart unless-stopped again if you want automatic restart. Container names are up above, and app name is BucStop.</note>
    </option>
  </step>

  <step number="5" title="Optional: Use Tags or Versioning">
    <commands>
      <command>git fetch --all</command>
      <command>git checkout tags/v1.2.3 -b release-v1.2.3</command>
    </commands>
    <note>Then follow the build and run steps again.</note>
  </step>

  <step number="6" title="Optional: Automate the Process">
    <note>You can script this process or use a CI/CD pipeline (like GitHub Actions with SSH deployment) to auto-update your Raspberry Pi on each release ‚Äî let me know if you‚Äôd like help setting that up.</note>
  </step>

</updateWorkflow>
